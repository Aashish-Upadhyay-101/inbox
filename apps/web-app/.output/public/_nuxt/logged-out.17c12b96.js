import{W as n,k as i,X as d,M as r,Z as l}from"./entry.d61c7a91.js";import{u as m}from"./index.58bded39.js";const p=n(async t=>{let e,s;const o=i().hanko.redirects,a=m();if([e,s]=d(()=>a.user.getCurrent().catch(()=>null)),e=await e,s(),e&&t.path!==o.home)return r(o.home);const u=a.onAuthFlowCompleted(()=>{(!o.followRedirect||!t.query.redirect)&&r(o.success),r(t.query.redirect)}),c=l().beforeEach(()=>{u(),c()})});export{p as default};
